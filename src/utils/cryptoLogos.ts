// Cryptocurrency logo URLs from reliable CDN sources
export const CRYPTO_LOGOS: Record<string, string> = {
  // Major cryptocurrencies
  'BTC': 'https://cryptologos.cc/logos/bitcoin-btc-logo.png',
  'ETH': 'https://cryptologos.cc/logos/ethereum-eth-logo.png',
  'USDT': 'https://cryptologos.cc/logos/tether-usdt-logo.png',
  'SOL': 'https://cryptologos.cc/logos/solana-sol-logo.png',
  'BNB': 'https://cryptologos.cc/logos/bnb-bnb-logo.png',
  'ADA': 'https://cryptologos.cc/logos/cardano-ada-logo.png',
  'MATIC': 'https://cryptologos.cc/logos/polygon-matic-logo.png',
  'DOGE': 'https://cryptologos.cc/logos/dogecoin-doge-logo.png',
  'XRP': 'https://cryptologos.cc/logos/xrp-xrp-logo.png',
  'DOT': 'https://cryptologos.cc/logos/polkadot-new-dot-logo.png',
  'AVAX': 'https://cryptologos.cc/logos/avalanche-avax-logo.png',
  'LINK': 'https://cryptologos.cc/logos/chainlink-link-logo.png',
  'UNI': 'https://cryptologos.cc/logos/uniswap-uni-logo.png',
  'LTC': 'https://cryptologos.cc/logos/litecoin-ltc-logo.png',
  
  // Meme coins and others
  'SHIB': 'https://cryptologos.cc/logos/shiba-inu-shib-logo.png',
  'PEPE': 'https://assets.coingecko.com/coins/images/29850/large/pepe-token.jpeg',
  
  // Additional popular coins
  'TRX': 'https://cryptologos.cc/logos/tron-trx-logo.png',
  'ATOM': 'https://cryptologos.cc/logos/cosmos-atom-logo.png',
  'FTM': 'https://cryptologos.cc/logos/fantom-ftm-logo.png',
  'NEAR': 'https://cryptologos.cc/logos/near-protocol-near-logo.png',
  'ALGO': 'https://cryptologos.cc/logos/algorand-algo-logo.png',
  'VET': 'https://cryptologos.cc/logos/vechain-vet-logo.png',
  'ICP': 'https://cryptologos.cc/logos/internet-computer-icp-logo.png',
  'HBAR': 'https://cryptologos.cc/logos/hedera-hbar-logo.png',
  'APT': 'https://assets.coingecko.com/coins/images/26455/large/aptos_round.png',
  'ARB': 'https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg',
  'OP': 'https://assets.coingecko.com/coins/images/25244/large/Optimism.png',
  'MANA': 'https://cryptologos.cc/logos/decentraland-mana-logo.png',
  'SAND': 'https://cryptologos.cc/logos/the-sandbox-sand-logo.png',
  'CRO': 'https://cryptologos.cc/logos/cronos-cro-logo.png',
  'LDO': 'https://assets.coingecko.com/coins/images/13573/large/Lido_DAO.png',
  'MKR': 'https://cryptologos.cc/logos/maker-mkr-logo.png',
  'AAVE': 'https://cryptologos.cc/logos/aave-aave-logo.png',
  'CRV': 'https://cryptologos.cc/logos/curve-dao-token-crv-logo.png',
  'COMP': 'https://cryptologos.cc/logos/compound-comp-logo.png',
  'SUSHI': 'https://cryptologos.cc/logos/sushiswap-sushi-logo.png',
  '1INCH': 'https://cryptologos.cc/logos/1inch-1inch-logo.png',
  'BAT': 'https://cryptologos.cc/logos/basic-attention-token-bat-logo.png',
  'ENJ': 'https://cryptologos.cc/logos/enjin-coin-enj-logo.png',
  'CHZ': 'https://cryptologos.cc/logos/chiliz-chz-logo.png',
  'THETA': 'https://cryptologos.cc/logos/theta-network-theta-logo.png',
  'FIL': 'https://cryptologos.cc/logos/filecoin-fil-logo.png',
  'ETC': 'https://cryptologos.cc/logos/ethereum-classic-etc-logo.png',
  'XLM': 'https://cryptologos.cc/logos/stellar-xlm-logo.png',
  'XMR': 'https://cryptologos.cc/logos/monero-xmr-logo.png',
  'EOS': 'https://cryptologos.cc/logos/eos-eos-logo.png',
  'IOTA': 'https://cryptologos.cc/logos/iota-miota-logo.png',
  'NEO': 'https://cryptologos.cc/logos/neo-neo-logo.png',
  'DASH': 'https://cryptologos.cc/logos/dash-dash-logo.png',
  'ZEC': 'https://cryptologos.cc/logos/zcash-zec-logo.png',
  'QTUM': 'https://cryptologos.cc/logos/qtum-qtum-logo.png',
  'ONT': 'https://cryptologos.cc/logos/ontology-ont-logo.png',
  'ZIL': 'https://cryptologos.cc/logos/zilliqa-zil-logo.png',
  'ICX': 'https://cryptologos.cc/logos/icon-icx-logo.png',
  'NANO': 'https://cryptologos.cc/logos/nano-nano-logo.png',
  'DGB': 'https://cryptologos.cc/logos/digibyte-dgb-logo.png',
  'RVN': 'https://cryptologos.cc/logos/ravencoin-rvn-logo.png',
  'SC': 'https://cryptologos.cc/logos/siacoin-sc-logo.png',
  'DCR': 'https://cryptologos.cc/logos/decred-dcr-logo.png',
  'LSK': 'https://cryptologos.cc/logos/lisk-lsk-logo.png',
  'STEEM': 'https://cryptologos.cc/logos/steem-steem-logo.png',
  'WAVES': 'https://cryptologos.cc/logos/waves-waves-logo.png',
  'STRAX': 'https://cryptologos.cc/logos/stratis-strax-logo.png',
  'KMD': 'https://cryptologos.cc/logos/komodo-kmd-logo.png',
  'ARK': 'https://cryptologos.cc/logos/ark-ark-logo.png',
  'PIVX': 'https://cryptologos.cc/logos/pivx-pivx-logo.png',
  'NXT': 'https://cryptologos.cc/logos/nxt-nxt-logo.png',
  'SYS': 'https://cryptologos.cc/logos/syscoin-sys-logo.png',
  'VIA': 'https://cryptologos.cc/logos/viacoin-via-logo.png',
  'XEM': 'https://cryptologos.cc/logos/nem-xem-logo.png',
  'MAID': 'https://cryptologos.cc/logos/maidsafecoin-maid-logo.png',
  'GNT': 'https://cryptologos.cc/logos/golem-gnt-logo.png',
  'REP': 'https://cryptologos.cc/logos/augur-rep-logo.png',
  'FCT': 'https://cryptologos.cc/logos/factom-fct-logo.png',
  'GAME': 'https://cryptologos.cc/logos/gamecredits-game-logo.png',
  'LBC': 'https://cryptologos.cc/logos/lbry-credits-lbc-logo.png',
  'DCT': 'https://cryptologos.cc/logos/decent-dct-logo.png',
  'SJCX': 'https://cryptologos.cc/logos/storjcoin-x-sjcx-logo.png',
  'AMP': 'https://cryptologos.cc/logos/synereo-amp-logo.png',
  'NXS': 'https://cryptologos.cc/logos/nexus-nxs-logo.png',
  'BITB': 'https://cryptologos.cc/logos/bean-cash-bitb-logo.png',
  'BLOCK': 'https://cryptologos.cc/logos/blocknet-block-logo.png',
  'TKN': 'https://cryptologos.cc/logos/tokencard-tkn-logo.png',
  'STORJ': 'https://cryptologos.cc/logos/storj-storj-logo.png',
  'BNT': 'https://cryptologos.cc/logos/bancor-bnt-logo.png',
  'SNT': 'https://cryptologos.cc/logos/status-snt-logo.png',
  'CVC': 'https://cryptologos.cc/logos/civic-cvc-logo.png',
  'OMG': 'https://cryptologos.cc/logos/omg-network-omg-logo.png',
  'GAS': 'https://cryptologos.cc/logos/gas-gas-logo.png',
  'USDC': 'https://cryptologos.cc/logos/usd-coin-usdc-logo.png',
  'TUSD': 'https://cryptologos.cc/logos/trueusd-tusd-logo.png',
  'PAX': 'https://cryptologos.cc/logos/paxos-standard-pax-logo.png',
  'GUSD': 'https://cryptologos.cc/logos/gemini-dollar-gusd-logo.png',
  'BUSD': 'https://cryptologos.cc/logos/binance-usd-busd-logo.png',
  'HUSD': 'https://cryptologos.cc/logos/husd-husd-logo.png',
  'DAI': 'https://cryptologos.cc/logos/multi-collateral-dai-dai-logo.png',
  'SAI': 'https://cryptologos.cc/logos/single-collateral-dai-sai-logo.png',
  'EURS': 'https://cryptologos.cc/logos/stasis-euro-eurs-logo.png',
  'USDK': 'https://cryptologos.cc/logos/usdk-usdk-logo.png',
  'USDN': 'https://cryptologos.cc/logos/neutrino-usd-usdn-logo.png',
  'USDX': 'https://cryptologos.cc/logos/usdx-usdx-logo.png',
  'SUSD': 'https://cryptologos.cc/logos/susd-susd-logo.png',
  'DUSD': 'https://cryptologos.cc/logos/dusd-dusd-logo.png',
  'MUSD': 'https://cryptologos.cc/logos/musd-musd-logo.png',
  'RSR': 'https://cryptologos.cc/logos/reserve-rights-rsr-logo.png',
  'AMPL': 'https://cryptologos.cc/logos/ampleforth-ampl-logo.png',
  'BASED': 'https://cryptologos.cc/logos/based-money-based-logo.png',
  'DPI': 'https://cryptologos.cc/logos/defi-pulse-index-dpi-logo.png',
  'UMA': 'https://cryptologos.cc/logos/uma-uma-logo.png',
  'REN': 'https://cryptologos.cc/logos/ren-ren-logo.png',
  'LRC': 'https://cryptologos.cc/logos/loopring-lrc-logo.png',
  'KNC': 'https://cryptologos.cc/logos/kyber-network-knc-logo.png',
  'ZRX': 'https://cryptologos.cc/logos/0x-zrx-logo.png',
  'MLN': 'https://cryptologos.cc/logos/enzyme-mln-logo.png',
  'ANT': 'https://cryptologos.cc/logos/aragon-ant-logo.png',
  'MANA': 'https://cryptologos.cc/logos/decentraland-mana-logo.png',
  'ENJ': 'https://cryptologos.cc/logos/enjin-coin-enj-logo.png',
  'SAND': 'https://cryptologos.cc/logos/the-sandbox-sand-logo.png',
  'AXS': 'https://assets.coingecko.com/coins/images/13029/large/axie_infinity_logo.png',
  'SLP': 'https://assets.coingecko.com/coins/images/10366/large/SLP.png',
  'ILV': 'https://assets.coingecko.com/coins/images/14468/large/ILV.JPG',
  'GALA': 'https://assets.coingecko.com/coins/images/12493/large/GALA-COINGECKO.png',
  'CHR': 'https://cryptologos.cc/logos/chromia-chr-logo.png',
  'ALICE': 'https://assets.coingecko.com/coins/images/14375/large/alice_logo.jpg',
  'TLM': 'https://assets.coingecko.com/coins/images/14676/large/kY-C4o7RThfWrDQsLdM4hylnpHOcWOccbzAsYIIpWxks.png',
  'WAXP': 'https://cryptologos.cc/logos/wax-waxp-logo.png',
  'FLOW': 'https://cryptologos.cc/logos/flow-flow-logo.png',
  'IMX': 'https://assets.coingecko.com/coins/images/17233/large/immutableX-symbol-BLK-RGB.png',
  'GMT': 'https://assets.coingecko.com/coins/images/25085/large/GMT_icon.png',
  'GST': 'https://assets.coingecko.com/coins/images/25157/large/GST_logo.png',
  'APE': 'https://assets.coingecko.com/coins/images/24383/large/apecoin.jpg',
  'LOOKS': 'https://assets.coingecko.com/coins/images/22173/large/circle-black-256.png',
  'BLUR': 'https://assets.coingecko.com/coins/images/28453/large/blur.png'
};

// Fallback function to get logo URL
export const getCryptoLogo = (symbol: string): string => {
  const logo = CRYPTO_LOGOS[symbol.toUpperCase()];
  if (logo) {
    return logo;
  }
  
  // Fallback to CoinGecko API for unknown tokens
  const coinId = symbol.toLowerCase();
  return `https://assets.coingecko.com/coins/images/1/large/${coinId}.png`;
};

// Component for crypto logo with fallback
export const CryptoLogo: React.FC<{
  symbol: string;
  size?: number;
  className?: string;
}> = ({ symbol, size = 40, className = '' }) => {
  const [imageError, setImageError] = React.useState(false);
  const [isLoading, setIsLoading] = React.useState(true);
  
  const logoUrl = getCryptoLogo(symbol);
  
  const handleImageError = () => {
    setImageError(true);
    setIsLoading(false);
  };
  
  const handleImageLoad = () => {
    setIsLoading(false);
  };
  
  if (imageError) {
    // Fallback to gradient circle with symbol
    return (
      <div 
        className={`bg-gradient-to-r from-orange-400 to-orange-600 rounded-full flex items-center justify-center ${className}`}
        style={{ width: size, height: size }}
      >
        <span className="text-white font-bold text-sm">
          {symbol.substring(0, 2)}
        </span>
      </div>
    );
  }
  
  return (
    <div className={`relative ${className}`} style={{ width: size, height: size }}>
      {isLoading && (
        <div 
          className="absolute inset-0 bg-gray-700 rounded-full animate-pulse"
          style={{ width: size, height: size }}
        />
      )}
      <img
        src={logoUrl}
        alt={`${symbol} logo`}
        className={`rounded-full object-cover transition-opacity duration-300 ${
          isLoading ? 'opacity-0' : 'opacity-100'
        }`}
        style={{ width: size, height: size }}
        onError={handleImageError}
        onLoad={handleImageLoad}
      />
    </div>
  );
};

export default CryptoLogo;